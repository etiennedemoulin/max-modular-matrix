<?xml version="1.0" encoding="utf-8" standalone="yes"?>

<?xml-stylesheet href="./_c74_ref.xsl" type="text/xsl"?>

<!--This is an automatically generated file. DO NOT EDIT THIS FILE DIRECTLY. Rather, use the _ref.xml files found in the 'edits' folder.-->
<c74object name="modular.matrix~" module="msp" category="MSP Routing">
	<digest>
		Signal routing and mixing matrix with integrated send receive connections, UI interface and snapshots.
	</digest>
	<description>
		<o>modular.matrix~</o> is an array of signal connectors and mixers (adders). It can have any number of inlets and outlets. Signals entering at each inlet can be routed to one or more of the outlets, with a variable amount of gain. If an outlet is connected to more than one inlet, its output signal is the sum of the signals from the inlets.
		<br />
		<o>modular.matrix~</o> is a mc object : all of its signal inlets are combined into a single multichannel inlet and all of its signal outlets are combined into a single multichannel outlet.
	</description>
	<!--METADATA-->
	<metadatalist>
		<metadata name="author">
			Etienne DÃ©moulin
		</metadata>
		<metadata name="tag">
			MSP
		</metadata>
		<metadata name="tag">
			MSP Routing
		</metadata>
	</metadatalist>
	<!--INLETS-->
	<inletlist>
		<inlet id="0" type="signal">
			<digest>
				Input 0, connect (list), disconnect (list)
			</digest>
			<description>
				TEXT_HERE
			</description>
		</inlet>
		<inlet id="1" type="signal">
			<digest>
				Input 1
			</digest>
			<description>
				TEXT_HERE
			</description>
		</inlet>
	</inletlist>
	<!--OUTLETS-->
	<outletlist>
		<outlet id="0" type="signal">
			<digest>
				Output 0
			</digest>
			<description>
				TEXT_HERE
			</description>
		</outlet>
		<outlet id="1" type="signal">
			<digest>
				Output 1
			</digest>
			<description>
				TEXT_HERE
			</description>
		</outlet>
		<outlet id="2" type="list">
			<digest>
				Inlets Outlets Gains
			</digest>
			<description>
				TEXT_HERE
			</description>
		</outlet>
	</outletlist>
	<!--ARGUMENTS-->
	<objarglist>
		<objarg name="config-dict-name" optional="0" type="symbol">
			<digest>
				Configuration dictionary name
			</digest>
			<description>
				The first argument specifies the configuration dictionary for the matrix.
			</description>
		</objarg>
	</objarglist>
	<!--MESSAGES-->
	<methodlist>
		<method name="list">
			<arglist>
				<arg name="inlet-to-outlet indices" optional="0" type="list" />
			</arglist>
			<digest>
				Connect inlets and outlets with indexes
			</digest>
			<description>
				In left inlet: A list of three numbers connects inlets and outlets. The first number specifies the inlet, the second number specifies the outlet. If the third number is 0, the inlet is disconnected from the outlet. If the third number is non-zero it is interprted as a gain for the connection between the input and output.
				<br />
				<br />
				Note: To specify the gain of individual connections, you must use three-element list messages rather than the <m>connect</m> message. Connections formed with the <m>connect</m> message always have a gain specified by the third argument initially given to the <o>matrix~</o> object. However, subsequent list messages can alter the gain of connections formed with the <m>connect</m> message.
				<br />
				<bar />
				The addition of an optional fourth element to the list message can be used to specify a ramp time, in milliseconds, for the individual connection. Example: <m>1 2 .8 500</m> would connect the first inlet to the second outlet and specify a gain of .8 and a ramp time of .5 seconds).
			</description>
		</method>
			<method name="patch">
			<arglist>
				<arg name="inlet-to-outlet indices" optional="0" type="list" />
			</arglist>
			<digest>
				Connect inlets and outlets with names
			</digest>
			<description>
				In left inlet: A list of two strings and a number connects inlets and outlets. The first string specifies the inlet name, the second string specifies the outlet name. The third element of the list is the connection gain, exprimed in decibel.
				<br />
				<br />
				The addition of an optional fourth element to the list message can be used to specify a ramp time, in milliseconds, for the individual connection. Example: <m>1 2 .8 500</m> would connect the first inlet to the second outlet and specify a gain of .8 and a ramp time of .5 seconds).
			</description>
		</method>
		<method name="clear">
			<arglist />
			<digest>
				Remove all connections
			</digest>
			<description>
				In left inlet: The word <m>clear</m> removes all connections.
			</description>
		</method>
		<method name="edit">
			<arglist />
			<digest>
				Edit configuration file
			</digest>
			<description>
				Open editor in order to modify the matrix configuration file.
			</description>
		</method>
		<method name="open">
			<arglist />
			<digest>
				Open matrix control interface
			</digest>
			<description>
				Open interface for changing connections gains.
			</description>
		</method>
		<method name="dictionary">
			<arglist>
				<arg name="dict-name" type="symbol" optional="0" />
			</arglist>
			<digest>
				Configure the state of <o>matrix~</o> with a dictionary
			</digest>
			<description>
				The <o>modular.matrix~</o> object can receive dictionaries to configure its state. When receiving a dictionary, all previous connections are cleared and replaced by the connections in the dictionary. You can also set some attributes with a dictionary, including the default gain and ramp time.
			</description>
		</method>
		<method name="dumppatch">
			<arglist />
			<digest>
				Send connection information out the right outlet as a dictionary
			</digest>
			<description>
				In left inlet: The word <m>dumppatch</m> causes the current contents of the <o>modular.matrix~</o> object to be sent out the rightmost outlet of the object as a dictionary. <o>dumppatch</o> message is specific to <o>modular.matrix~</o> and connections are stored with inlets and outlets names, and gains in decibels.
			</description>
		</method>
		<method name="dumpconnections">
			<arglist />
			<digest>
				Send connections out the right outlet as a dictionary
			</digest>
			<description>
				In left inlet: The word <m>dumpconnections</m> causes the current contents of the <o>modular.matrix~</o> object to be sent out the rightmost outlet of the object as a dictionary. Fully compatible with <o>matrix~</o>.
			</description>
		</method>
		<method name="generate" type="dictionary" optional="1">
			<arglist />
			<digest>
				Generate matrix configuration
			</digest>
			<description>
				In left inlet: The word <m>generate</m> followed by a dictionary containing a matrix configuration file will change the current <o>modular.matrix~</o> configuration. Use <m>generate</m> without argument to re-generate the current configuration.
			</description>
		</method>
	</methodlist>
	<!--ATTRIBUTES-->
	<attributelist>
		<attribute name="ramp" get="1" set="1" type="float" size="1">
			<digest>
				Ramp Time (ms)
			</digest>
			<description>
				Sets the ramp time in milliseconds, switching signals without creating audible clicks.
			</description>
			<attributelist>
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Ramp Time (ms)" />
			</attributelist>
		</attribute>
	</attributelist>
	<!--EXAMPLE-->
	<examplelist>
		<example img="matrix~.png" caption="Multichannel audio routing" />
	</examplelist>
	<!--SEEALSO-->
	<seealsolist>
		<seealso name="matrix~" />
		<seealso name="crosspatch" />
		<seealso name="gate~" />
		<seealso name="mcs.matrix~" />
		<seealso name="matrix" />
		<seealso name="matrixctrl" />
		<seealso name="receive~" />
		<seealso name="router" />
		<seealso name="selector~" />
		<seealso name="send~" />
	</seealsolist>
	<discussion>
		Connections between inputs and outputs can have their own gains, and each connection can include a ramp time to avoid clicks.
	</discussion>
	<misc name="Output">
		<entry name="signal">
			<description>
				The output signals for each outlet are the sum of their connected inputs, scaled by the gain values of the connections.
			</description>
		</entry>
		<entry name="list">
			<description>
				Out right outlet: A set of lists describing the current or target state of all <o>matrix~</o> object connections will be sent out the right outlet in response to a <m>dump</m> or <m>dumptarget</m> message.
			</description>
		</entry>
	</misc>
</c74object>
